<div class="container-fluid">
    <div class="row justify-content-center">
      <div class="col-md-4">
        <div class="todo-form">
          <h4 class="text-center mb-3 todo-header">Ajouter une tâche</h4>
          <input type="text" class="form-control todo-input mb-2" placeholder="Ajouter une tâche" [(ngModel)]="todoTitle">
          <textarea class="form-control todo-input mb-2" placeholder="Ajouter la description" [(ngModel)]="todoValue"></textarea>
          <button class="btn btn-primary w-100" type="button" (click)="addTodo()">Ajouter</button>
        </div>
      </div>
      <div class="col-md-6">
        <div class="todo-block">
          <h4 class="text-center mb-3 todo-header">Liste des tâches</h4>
          <div class="todo-list">
            <h5>À faire</h5>
            <div class="card todo-single mb-3" *ngFor="let todo of todoList; let i = index;">
              <div class="card-body d-flex align-items-center">
                <input type="checkbox" class="todo-checkbox me-2" [(ngModel)]="todo.value" (ngModelChange)="changeTodo(i)">
                <div class="todo-content">
                  <h6 class="card-title">{{todo.title}}</h6>
                  <p class="card-text">{{todo.content}}</p>
                </div>
                <button type="button" class="btn btn-outline-danger ms-auto" (click)="openModal(content, i, 'todoList')">
                  <i class="fas fa-trash"></i>
                </button>
              </div>
            </div>
          </div>
  
          <div class="todo-list mt-3" *ngIf="finishedList.length > 0">
            <h5>Tâches terminées</h5>
            <div class="card todo-single mb-3 completed" *ngFor="let todo of finishedList; let i = index;">
              <div class="card-body d-flex align-items-center">
                <input type="checkbox" class="todo-checkbox me-2" [(ngModel)]="todo.value" (ngModelChange)="changeFinished(i)">
                <div class="todo-content">
                  <h6 class="card-title">{{todo.title}}</h6>
                  <p class="card-text">{{todo.content}}</p>
                </div>
                <button type="button" class="btn btn-outline-danger ms-auto" (click)="openModal(content, i, 'finishedList')">
                  <i class="fas fa-trash"></i>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <ng-template #content let-modal>
      <div class="modal-header">
        <h4 class="modal-title" id="modal-basic-title">Supprimer</h4>
        <button type="button" class="btn-close" (click)="modal.dismiss('Cross click')"></button>
      </div>
      <div class="modal-body">
        <p>Voulez-vous supprimer cette tâche ?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-outline-secondary" (click)="modal.dismiss('cancel click')">Annuler</button>
        <button type="button" class="btn btn-danger" (click)="modal.close('Ok click')">Ok</button>
      </div>
    </ng-template>
  </div>
  